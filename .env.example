# =============================================================================
# JalanRusak Backend - Environment Configuration
# =============================================================================
# Copy this file to .env and update with your actual values
# Never commit .env file to version control!

# =============================================================================
# Server Configuration
# =============================================================================
SERVER_PORT=8080

# =============================================================================
# Database Configuration (PostgreSQL with PostGIS)
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=yourpassword
DB_NAME=jalanrusak
DB_SSLMODE=disable

# Database Connection Pool Settings
DB_MAX_CONNECTIONS=25
DB_MAX_IDLE_CONNECTIONS=5
DB_CONN_MAX_LIFETIME=5m

# =============================================================================
# JWT Authentication Configuration
# =============================================================================
# IMPORTANT: Change this secret in production! Minimum 32 characters recommended
JWT_SECRET=change-this-to-a-secure-random-string-min-32-chars-production
JWT_ACCESS_TOKEN_TTL=15m
JWT_REFRESH_TOKEN_TTL=168h  # 7 days

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# =============================================================================
# Email Service Configuration
# =============================================================================
EMAIL_SERVICE_TYPE=console

# For production SMTP (uncomment and configure):
# EMAIL_SERVICE_TYPE=smtp
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM_NAME=JalanRusak Team
# SMTP_FROM_EMAIL=noreply@jalanrusak.id

# =============================================================================
# CORS Configuration (Optional - defaults shown)
# =============================================================================
# CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
# CORS_ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
# CORS_ALLOWED_HEADERS=Origin,Content-Type,Accept,Authorization
# CORS_MAX_AGE=43200  # 12 hours

# =============================================================================
# Logging Configuration (Optional)
# =============================================================================
# LOG_LEVEL=info  # Options: debug, info, warn, error
# LOG_FORMAT=json  # Options: json, text

# =============================================================================
# Feature Flags (Optional)
# =============================================================================
# ENABLE_SWAGGER_UI=true
# ENABLE_METRICS=false
# ENABLE_PPROF=false  # Go profiling endpoint

# =============================================================================
# Notes for Production Deployment
# =============================================================================
# 1. Database:
#    - Use PostgreSQL 14+ with PostGIS extension enabled
#    - Run migrations: migrate -path migrations -database "postgres://..." up
#    - Populate subdistrict_centroids table with official BIG data
#
# 2. Security:
#    - Generate strong JWT_SECRET (use: openssl rand -base64 32)
#    - Use HTTPS in production (configure reverse proxy)
#    - Set DB_SSLMODE=require for production database
#    - Configure proper CORS origins for your frontend
#
# 3. Performance:
#    - Adjust DB_MAX_CONNECTIONS based on server capacity
#    - Monitor rate limits and adjust if needed
#    - Consider Redis for caching (future enhancement)
#
# 4. Monitoring:
#    - Health check endpoint: GET /health
#    - Swagger docs: GET /swagger/index.html
#    - Check application logs for structured logging output

